(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{15:function(e,t,n){e.exports={Food_dot:"Food_Food_dot__pDaQx"}},20:function(e,t,n){e.exports=n(32)},25:function(e,t,n){},26:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),i=n.n(r),c=(n(25),n(1)),s=n(9),u=n(10),l=n(11),h=n(16),d=n(12),f=n(17),k=(n(26),n(2)),p=n(3);function g(){var e=Object(k.a)(["\n    position: absolute;\n    width: 3.6%;\n    height: 3.6%;\n    background-color: #88c586;\n    border: 2px solid #424645;\n    margin: 0.4%;\n    z-index: 2;\n    left: ","%;\n    top: ","%;\n    animation-name : ",";\n    animation-duration: ","s;\n    animation-timing-function: linear\n"]);return g=function(){return e},e}function v(){var e=Object(k.a)(["\n    0% {\n        left: ","%;\n        top: ","%\n    }\n    100% {\n      left: ","%;\n      top: ","%\n    }\n"]);return v=function(){return e},e}var b=p.a.div(g(),(function(e){return e.dot[0]}),(function(e){return e.dot[1]}),(function(e){var t=e.dot,n=e.oldLength,a=e.i;return function(e,t){return Object(p.b)(v(),t[0],t[1],e[0],e[1])}(t,n[a]||[n[a-1]])}),(function(e){return e.speed/1e3})),m=function(e){var t=e.length,n=e.oldLength,a=e.speed,r=t.map((function(e,t){return o.a.createElement(b,{key:t,i:t,speed:a,dot:e,oldLength:n})}));return o.a.createElement("div",null,r)},O=n(15),y=n.n(O),w=function(e){var t=e.food;return o.a.createElement("div",{className:y.a.Food_dot,style:{left:"".concat(t[0],"%"),top:"".concat(t[1],"%")}})};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D="UP",E="DOWN",S="RIGHT",L="LEFT",P=function(){return[5*Math.floor(100*Math.random()/5),5*Math.floor(100*Math.random()/5)]},x={snake:{direction:S,trueDirection:S,speed:200,oldLength:[[0,0],[0,0]],length:[[0,0],[5,0]]},items:{food:P()}},F=function(e){return JSON.parse(JSON.stringify(e))},M=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state=F(x),n._onKeyDown=function(e){e=e||window.event;var t,a=n.state.snake,o=a.direction;a.length;switch(e.keyCode){case 38:t=D;break;case 40:t=E;break;case 39:t=S;break;case 37:t=L;break;default:t=o}n.setState({snake:_({},n.state.snake,{direction:t,trueDirection:o})})},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;alert("\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"),setInterval((function(){return e._mouveSnake()}),this.state.snake.speed),document.onkeydown=this._onKeyDown}},{key:"componentDidUpdate",value:function(){this._checkBorder(),this._checkSnakeCollapse(),this._eatFood()}},{key:"_checkBorder",value:function(){var e=this.state.snake.length,t=e[e.length-1];(t[0]>=100||t[1]>=100||t[0]<0||t[1]<0)&&this._gameOver()}},{key:"_checkSnakeCollapse",value:function(){var e=this,t=Object(c.a)(this.state.snake.length),n=t[t.length-1];t.pop(),t.forEach((function(t){t[0]===n[0]&&t[1]===n[1]&&e._gameOver()}))}},{key:"_eatFood",value:function(){var e=this.state.items.food,t=Object(c.a)(this.state.snake.length),n=Object(c.a)(this.state.snake.oldLength),a=t[t.length-1];e[0]===a[0]&&e[1]===a[1]&&(t.unshift(n[0]),n.unshift(n[0]),this.setState({items:{food:P()},snake:_({},this.state.snake,{length:t,oldLength:n})}))}},{key:"_mouveSnake",value:function(){var e=this.state.snake,t=e.direction,n=e.length,a=this.state.snake.trueDirection,o=Object(c.a)(this.state.snake.length),r=n[n.length-1],i=n[n.length-2];switch(t){case D:if(r[1]-5!==i[1]){a=D,r=[r[0],r[1]-5];break}case E:if(r[1]+5!==i[1]){a=E,r=[r[0],r[1]+5];break}case S:if(r[0]+5!==i[0]){a=S,r=[r[0]+5,r[1]];break}case L:if(r[0]-5!==i[0]){a=L,r=[r[0]-5,r[1]];break}default:switch(a){case D:r=[r[0],r[1]-5];break;case E:r=[r[0],r[1]+5];break;case S:r=[r[0]+5,r[1]];break;case L:r=[r[0]-5,r[1]]}}o.push(r),o.shift(),this.setState({snake:_({},this.state.snake,{length:o,oldLength:n,trueDirection:a,direction:a})})}},{key:"_gameOver",value:function(){alert("\u0422\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b\n \u0421\u0447\u0435\u0442: ".concat(this.state.snake.length.length)),this.setState(F(x))}},{key:"render",value:function(){var e=this.state,t=e.snake,n=t.length,a=t.oldLength,r=t.speed,i=e.items.food;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"Map",style:{width:"".concat(500,"px"),height:"".concat(500,"px")}},o.a.createElement(m,{speed:r,oldLength:a,length:n}),o.a.createElement(w,{food:i})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.3ccf58f0.chunk.js.map