(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{15:function(e,t,n){e.exports={Food_dot:"Food_Food_dot__pDaQx"}},20:function(e,t,n){e.exports=n(32)},25:function(e,t,n){},26:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),s=n.n(o),i=(n(25),n(1)),c=n(11),u=n(16),l=n(12),h=n(17),d=n(2),p=n(3),f=(n(26),n(4)),k=n(5);function v(){var e=Object(f.a)(["\n    position: absolute;\n    width: 3.6%;\n    height: 3.6%;\n    background-color: #88c586;\n    border: 2px solid #424645;\n    margin: 0.4%;\n    z-index: 2;\n    left: ","%;\n    top: ","%;\n    animation-name : ",";\n    animation-duration: ","s;\n    animation-timing-function: linear;\n\n    @media (max-width: 440px) { \n      border: 1px solid #424645;\n      margin: 0.15%;\n    }\n"]);return v=function(){return e},e}function g(){var e=Object(f.a)(["\n    0% {\n        left: ","%;\n        top: ","%\n    }\n    100% {\n      left: ","%;\n      top: ","%\n    }\n"]);return g=function(){return e},e}var m=k.a.div(v(),(function(e){return e.dot[0]}),(function(e){return e.dot[1]}),(function(e){var t=e.dot,n=e.oldLength,a=e.i;return function(e,t){return Object(k.b)(g(),t[0],t[1],e[0],e[1])}(t,n[a]||[n[a-1]])}),(function(e){return e.speed/1e3})),y=function(e){var t=e.length,n=e.oldLength,a=e.speed,o=t.map((function(e,t){return r.a.createElement(m,{key:t,i:t,speed:a,dot:e,oldLength:n})}));return r.a.createElement("div",null,o)},b=n(15),O=n.n(b),_=function(e){var t=e.food;return r.a.createElement("div",{className:O.a.Food_dot,style:{left:"".concat(t[0],"%"),top:"".concat(t[1],"%")}})};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S="UP",E="DOWN",L="RIGHT",x="LEFT",D=function(){return[5*Math.floor(100*Math.random()/5),5*Math.floor(100*Math.random()/5)]},N=function(){function e(t){Object(d.a)(this,e),this.array=t}return Object(p.a)(e,[{key:"push",value:function(e){this.array.length<3&&this.array.push(e)}},{key:"getArray",value:function(){return this.array}},{key:"getCurrent",value:function(){return this.array[0]}},{key:"getLast",value:function(){return this.array[this.array.length-1]}},{key:"next",value:function(){var e=this.array.at(1);return e?(this.array.splice(0,1),e):this.array[0]}}]),e}(),P={snake:{pause:!1,directions_stack:[L],speed:200,oldLength:[[0,0],[0,0]],length:[[0,0],[5,0]]},items:{food:D()}},C=function(e){return JSON.parse(JSON.stringify(e))},F=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state=C(P),n.game_cycle=void 0,n._onKeyDown=function(e){e=e||window.event;var t=n.state.snake.directions_stack,a=new N(t),r=a.getLast();if(32===e.keyCode)n.state.pause?n._play():n._pause();else if(n.state.pause)return;switch(e.keyCode){case 38:r!==E&&r!==S&&a.push(S);break;case 40:r!==S&&r!==E&&a.push(E);break;case 39:r!==x&&r!==L&&a.push(L);break;case 37:r!==L&&r!==x&&a.push(x)}n.setState({snake:j({},n.state.snake,{directions_stack:a.getArray()})})},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){alert("Start the game?"),this._play(),document.onkeydown=this._onKeyDown}},{key:"componentDidUpdate",value:function(){this._checkBorder(),this._checkSnakeCollapse(),this._eatFood()}},{key:"_checkBorder",value:function(){var e=this.state.snake.length,t=e[e.length-1];(t[0]>=100||t[1]>=100||t[0]<0||t[1]<0)&&this._gameOver()}},{key:"_checkSnakeCollapse",value:function(){var e=this,t=Object(i.a)(this.state.snake.length),n=t[t.length-1];t.pop(),t.forEach((function(t){t[0]===n[0]&&t[1]===n[1]&&e._gameOver()}))}},{key:"_eatFood",value:function(){var e=this.state.items.food,t=Object(i.a)(this.state.snake.length),n=Object(i.a)(this.state.snake.oldLength),a=t[t.length-1];e[0]===a[0]&&e[1]===a[1]&&(t.unshift(n[0]),n.unshift(n[0]),this.setState({items:{food:D()},snake:j({},this.state.snake,{length:t,oldLength:n})}))}},{key:"_pause",value:function(){clearInterval(this.game_cycle),this.game_cycle=void 0,this.setState({pause:!0})}},{key:"_play",value:function(){var e=this;this.game_cycle=setInterval((function(){return e._moveSnake()}),this.state.snake.speed),this.setState({pause:!1})}},{key:"_moveSnake",value:function(){var e=this.state.snake,t=e.directions_stack,n=e.length,a=new N(t),r=Object(i.a)(this.state.snake.length),o=n[n.length-1];switch(a.next()){case S:o=[o[0],o[1]-5];break;case E:o=[o[0],o[1]+5];break;case L:o=[o[0]+5,o[1]];break;case x:o=[o[0]-5,o[1]]}r.push(o),r.shift(),this.setState({snake:j({},this.state.snake,{length:r,oldLength:n,directions_stack:a.getArray()})})}},{key:"getScore",value:function(){return this.state.snake.length.length-2}},{key:"_gameOver",value:function(){alert("Game over\n Score: ".concat(this.getScore())),this.setState(C(P))}},{key:"render",value:function(){var e=this,t=this.state,n=t.pause,a=t.snake,o=a.length,s=a.oldLength,i=a.speed,c=t.items.food;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"score"},"Score: ",this.getScore()),r.a.createElement("div",{className:"pause"},n?r.a.createElement("div",{onClick:function(){return e._play()}},"play"):r.a.createElement("div",{onClick:function(){return e._pause()}},"pause"))),r.a.createElement("div",{className:"Map"},r.a.createElement(y,{speed:i,oldLength:s,length:o}),r.a.createElement(_,{food:c}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[20,1,2]]]);
//# sourceMappingURL=main.61df6e2e.chunk.js.map